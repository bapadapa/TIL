# Chpater 02

## 캘리포니아 주택 가격 예측

> - 인구, 중간 소득 등의 특성을 사용하여 중간 주택 가격 예측
> - 다중 회귀, 다변량 회귀

## 프로젝트의 주요 단계

1.  문제 정의
    1. 분석의 목적
       - 분석의 목적을 알아야 방향성,알고리즘,방향등을 설정할 수 있다.
    1. 분석 방법
       - 현재 문제를 해결하기 위해서 회귀,군집,등 어떠한 `접근방법을 채택`할지 정해야한다.
    1. 성능 지표
       - 여러 지표가 있지만, `RMSE`와 `MAE`에 대하여 정리함
         - 추가적으로 `Norm`에 대하여 간단 정의
       1. > `RMSE` ( Root Mean Square Error )( 평균 제곱근 오차 )
          >
          > - 대다수의 회귀문제에서 사용되지만, `이상치에 취약`하다
          > - 수식
          >   - $RMSE(X,h) = \sqrt{{1\over{m}}\sum_{i=1}^m(h(x^{(i)}) - y^{(i)})^2}$
          >   - $RMSE(X,h) = \sqrt{{1\over{m}}\sum_{i=1}^m(\hat{y}^{(i)} - y^{(i)})^2}$
          > - 표기법
          >   - 소문자 : 대체로 `스칼라값`
          >   - 대문자 : 대체로 `행렬(Matrix)`
          >   - $m$
          >     - Sample 갯수
          >   - $x^{(i)}$
          >     - i번째 Sample의 전체 특성값
          >   - $h()$
          >     - 가설
          >   - $h(x^{(i)}) , \hat{y}^{(i)}$
          >     - 가설의 결과값, 즉 i번쨰 벡터의 `예측값`
          >   - y^{(i)}
          >     - i번쨰 벡터의 `기대값`
       ***
       1. > `MAE` ( Mean Absolute Error) (평균 절대 오차)
          >
          > - 노름 지수가 크면 큰 값의 원소에 치우치며, 작은 값은 무시된다.
          > - rmse를 일반적으로 사용하지만, `이상치가 많다면 사용을 고려`한다.
          > - $MAE(X,h) = {1\over{m}}\sum_{i=1}^m \left| h(x^{i})-y^{i} \right|$
       ***
       1. > `노름(norm)`
          >
          > - `정의`
          >   - Vector의 길이 혹은 크기를 정하는 방법
          >   - 원점에서 벡터 좌표까지의 `Distance(거리)` 혹은 `Magnitude(규모,크기)`
          > - 표기법
          >   - $||v||_k = (|x_0|^k+|x_1|^k+|x_2|^k+\cdots+|x_n|^k)^{1\over{k}}$
          > - `수식`
          >   - $\mathcal{L}_p = (\sum_{i}^n|x_i|^p)^{1\over{p}}$
          > - $\mathcal{L}_1$ ( Manhatan Norm )
          >   - 두 지점(거리)의 직각 거리
          >   - `p값이 1인 Norm`
          >     - $\mathcal{L}_1 = \sum_{i}^n|x_i| = |x_1|+|x_2|+|x_3|+\cdots+|x_n|$
          > - $\mathcal{L}_2$ ( Euclidean Norm)
          >   - `p값이 2인 Norm`
          >   - n 차원 좌표평면(유클리드 공간)에서의 벡터의 크기
          >     - $\mathcal{L}_2 = \sqrt{\sum_{i}^nx_i^2} = \sqrt{x_1^2+x_2^2+x_3^2+\cdots+x_n^2}$
1.  데이터 수집 및 전처리

    > 분석의 목적을 알아냈으니, 그에 필요한 데이터를 수집한다.

    1. 수집
       - 책에서는 예제 데이터를 가져와서 `Data-Set`을 만들다. 하지만 프로젝트 진행시 본인이 `스스로 수집`할 수 있다.
    1. 검토
       - 수집한 데이터를 탐색 및 시각화를 통해 검토할 수 있다.
         - 간단하게는 hist()를 사용하여 `각 데이터의 분포도` 등을 볼 수 있다.
    1. 전처리
       - 이상치(Outlier) 제거 등의 전처리를 하여 데이터를 다듬어 준다.
    1. `Train-Set` & `Test-Set` 생성
       > 훈련에 앞서 `Train-Set` & `Test-Set` 생성해준다. 이 때 일반적으로는 전체 데이터의 20% 를 Test-Set으로 만들어준다.
       1. Train-Set
          - 훈련시 사용할 Data-Set
       1. Test-Set
          - 테스트(검증)시 사용할 Data-Set

1.  탐색 및 시각화를 통하여 통찰을 얻기
    > 지리적 시각화, 상관계수 확인 등을 이용하여 데이터의 모양을 확인 후 이후 과정을 어떻게 진행할지 판단 할 수 있다.
    1. 표준 상관계수 ( Standard Correlation Coefficient )확인
       - 표준 상관계수를 보면, 각 칼럼별 상관관계를 확인할 수 있다.
         - `1에 가까우면 양` , `-1에 가까우면 음`의 상관관계이다.
    1. 특성 조합
       > 시각화 및 상관계수를 통하여 얻은 결과를 가지고 몇가지 `특성을 조합`하여 `새로운 특성을 생성`해 사용할 수 있다.
1.  ML알고리즘을 위해 데이터 준비
    1. 정제
       > 정제의 대표적으로 `결측치 처리`가 있다. 아래 3가지 방법을 사용하여 적절하게 처리하는 것이 좋다.
       1. 해당 특성 제거
          - drop('칼럼명',axis=1)
       1. 해당 구역 제거
          - dropna(subset = ['칼럼명'])
       1. 결측치 할당 ( Median, Mean, 0 ,...)
          - fillna('값',inplace=True)
1.  모델 선택
1.  모델 조정
1.  솔루션 제시
1.  시스템 론칭 및 유지보수/모니터링

# 시스템 인터페이스 요구사항 분석

- `개발할 SYS`와 `외부 SYS`를 연동하는데 필요한 인테페이스 요구사항

- 구성 요소
  1. 인터페이스 명
  2. 연계 대상 시스템
  3. 연계 범위 및 내용
  4. 연계 방식
  5. 송신 데이터
  6. 인터페이스 주기
  7. 기타 고려사항

## 요구사항 분석

- 요구사항을 분류하여 구체적으로 명세 후 이해관계자에게 전달하는 과정
- `적절한 수준의 세분화`, `누락된 요구사항/제한 조건 추가`, `요구사항 중요도 부여`

## 절차

1. 요구사항 목록을 만든다.
2. 요구사항 관련 자료준비
3. 기능 - 비기능 요구사항 분류
4. 요구사항 분석 후 명세서에 내용 추가/수정
5. 산출물을 이해관계자에게 전달

## 검증 방법

- 요구사항 검토 ( Requirements Review)

  - 오류확인 및 표준 준수 여부 등 걸함 여부를 검토 담당자들이 수작업으로 분석하는 방법

    1. 동료검토
       - 작성자가 설명 후 동료들이 설명에 대한 결함을 발견
    2. 워크스루
       - 명세서 배포 후 짧은 검토 회의를 통해 결함을 발견
    3. 인스펙션
       - 작성자를 제외한 검토 전문가들이 명세서를 확인하며 결함 발견

- 프로토타이핑(Prototyping)
  - 견본품을 만들어 최종 결과물 예측
- 테스트 설계
  - 테스트 케이스 생성 후 현실적으로 테스트 가능여부 검토
- CASE 도구 활용
  - 일관성 분석을 통해 요구사항 변경사항의 `추적`, `분석`, `관리`, `표준 준수 여부` 확인
- 검증 주요 항목
  1. 완전성
     - 요구사항 `누락여부`
  2. 일관성
     - `모순 혹은 출돌` 여부
  3. 명확성
     - 모든 사람이 이해 가능 여부
  4. 기능성
     - 요구사항이 `어떻게` 보다 `무엇을`에 중점두는가
  5. 검증 가능성
     - 사용자 `요구사항 만족` 및 개발된 소프트웨어가 `요구 내용과 일치` 여부
  6. 추적 가능성
     - 명세서 및 설계서 추적 가능여부
  7. 변이 용이성
     - 명세서 변경이 용이한가

# 인터페이스 식별 시스템

- 송신 / 수신 시스템으로 구분하여 작성
- 선행 작업
  1. 개발 시스팀 - 내외부 시스템 식별
  2. 내/외부 시스템 네트워크 연결정보 식별
  3. 인터페이스 식별

# 송/수신 데이터 식별

- 식별 대상
  - 송수신시 교환되는 데이터
- 종류
  1.  인터페이스 표준 항목
      - 송수신 연계시 표준적으로 필요한 데이터
        1. `시스템 공통부`
           - 연동시 필요한 공통 정보
             1. 인터페이스 ID
             2. 전송 시스템 정보
             3. 서비스 코드 정보
             4. 응답 결과 정보
             5. 장애 정보
        2. 거래 공통부
           - 연동 후 송수신 데이터 처리시 필요한 정보
             1. 직원 정보
             2. 승인자 정보
             3. 기기 정보
             4. 매체 정보
  2.  송/수신 데이터 항목
      - 업무 수행시 필요한 데이터
  3.  공통 코드
      - `시스템 공통` 사용 코드
        - `항목 코드값`+코드명 ,코드 `설명등`을 코드로 관리

## 정보 흐름 식별

- 전송되는 방향성을 식별
- 주요 `데이터 항목` 및 `정보 그룹` 도출

## 송수신 데이터 식별

- 정보 흐름 및 DB 산출물 기반으로 식별

1. `인터페이스/송수신 데이터` 항목 식별
   - `교환 범위` 확인 및 `인터페이스 표준 항목`에 대해 송수신 데이터 항목 식별
2. 코드성 데이터 항목 식별

   - 코드 정보를 식별

# 인터페이스 방법 명세화

- 종류

  1. 송/수신 방법 명세화
  2. 송/수신 데이터 명세화
  3. 오류 식별 및 처리 방안 명세화

- 인터페이스 별 송/수신 방법 명세화시 `필요 정보`

  1. 시스템 연계 기술
     1. DB LINK
     2. API/OPEN API
     3. 연계 솔루션
     4. Socket
     5. Web Sevice
  2. 인터페이스 통신 유형
  3. 단방향
     - 요청만 있고 응답이없음
  4. 동기
     - 요청 후 응답 대기
  5. 비동기

     - 요청 후 다른 작업하다 응답오면 처리

  6. 처리 유형
  7. 실시간
     - 요청을 바로 처리해야할 때 사용
  8. 지연 처리
     - 처리 비용이 많을때 사용
  9. 배치
     - 데이터 량이 많을때 사용
  10. 발생 주기
      - 인터페이스가 사용되는 주기
      - 업무 성경 및 송/수신 데이터 전송량을 고려하여 구분

# 미들웨어 솔루션

- `OS와 응용 프로그램`, `서버와 클라이언트` 사이에서 서비스를 제공하는 `소프트웨어`로써 `데이터 교환에 일관성 보장`

## 종류

1. DB
   - 클라이언트에서 원격 DB 와 연결하는 미들웨어
   - DB사용하여 구축하는경우 보통 `2-Tier아키텍쳐`라고 한다
2. RPC(원격 프로시져 호출)
   - 원격 프로시져를 로컬 프로시져처럼 호출하는 미들웨어
3. MOM (메시지 지향 미들웨어)
   - 비동기형 메시지를 전달하는 미들웨어
   - `이기종 분산 데이터 시스템`의 데이터 동기를 위해 주로 사용
4. TP-Monitor (트랜잭션 처리 모니터)
   - 트랜잭션 처리 및 감시하는 미들웨어
   - 사용자 `수가 증가`해도 `빠른 응답 속도를 유지`해야하는 업무에 주로 사용
5. ORB( 객체 요청 브로커)
   - CORBAS표즌 스펙을 구현한 객체 지향 미들웨어
   - TP-Monitor의 처리 및 모니터링을 추가구현한 제품도 있다.
6. WAS(웹 어플리케이션 서버)
   - `동적 콘텐츠 처리`를 위한 미들웨어
   - `웹 환경을 구현`하기 위한 미들웨어

# 모듈간 공통 기능 및 데이텅 인터페이스

- 공통기능
  - 모듈간 공통적으로 제공되는 기능
  - 내/외부 기능을 통해 공통으로 제공되는 기능 확인
- 데이터 인터페이스
  - 교환될 데이터가 저장될 파라미터확인
    - 모듈 기능 및 공통 기능을 기반으로 필요한 데이터 인터페이스 항목 확인
- 확인절차
  - 인터페이스 설계서를 통해 모듈별 기능 확인
  - `외부/내부 모듈` 기반으로 공통기능 및 데이터 인터페이스 확인

# 인터페이스 설계서

- `교환 데이터`/ `관련업무` / `송수신 시스템` 내용을 정의한 문서

## 종류

1. 일반적인 인터페이스 설계서

   - 기능의 세부 인터페이스 정보를 정의
     1. 시스템 인터페이스 설계서
     2. 상세 기능별 인터페이스 설계서

2. 정적/동적 모형을 통한 인터페이스 설계서
   - 정적/동적 다이어그램로 정의한 문서
   - `구성요소`, `인터페이스 소속`, `트랜잭션 종류` 확인 가능

## 기능 확인

1. 시스템 인터페이스 목록
   - 외부 모듈:
     - `송신 및 전달` 부분
   - 내부 모듈:
     - 수신부분
2. 시스템 인터페이스 설계서
   - 외부 모듈:
     - 데이터 송신 시스템 부분
   - 내부 모듈:
     - 데이터 수신 시스템 부분
3. 상세 기능 인터페이스 서명세서
   - 외부 모듈:
     - 오퍼레이션/사전 조건
   - 내부 모듈:
     - 사후 조건
4. 정적/동적 모형을 통한 인터페이스 설계서
   - 외부 모듈:
     - 인터페이스 영역
   - 내부 모듈:
     - 그 외의 영역

# 인터페이스 기능 식별

## 모듈 연계

- 데이터 교환을 위한 관계 설정

### 방법

1.  EAI ( Enterprise Application Integration)
    - 기업 내 각종 APP 및 플랫폼 간의 상호 연동 기능을 하게 해주는 솔루션
    - 유형
      1. `P2P`
         - 1:1로 연결
         - 변경 및 재사용이 어려움
      2. `Hub & Spoke`
         - 중앙 허브를 통해 데이터 전송
         - 중앙 집중형 방식
         - 확장 및 유지보수 용이
         - 중앙 허브에 에러 발생시 전체에 영향을 미침
      3. `Message Bus (ESB 방식)`
         - 미들웨어를 두어 처리하는 방식
         - 확장성이 뛰어나 대용량 처리가 용이
      4. `Hybrid`
         - `Hub & Spoke + Message Bus`
         - 병목 현상을 최소화 할 수 있다.
2.  ESB(Enterprise Sevice Bus)
    - `Message Bus` 와 동일한 방식의 솔루션
    - 볌용적 사용을 위해 `결합도를 약하`게 유지
    - `관리 및 보안 유지`가 쉽다
3.  웹 서비스( Web Service)
    - 네트워크의 정보를 표준화된 서비스 형태로 만들어 공유하는 기술
    - 종류
      1. SOAP
         - `HTTP/HTTPS,SMTP` 등을 활용하여 `XML 기반 메시지`를 네트워크 상에서 교환하는 프로토콜
      2. UDDI
         - `WSDL을 등록`하여 `서비스 및 서비스 제공자`를 `검색 후 접근`하는데 사용
      3. WSDL
         - 웹 서비스에 대한 상세 정보를 XML 형식으로 구현

## 모듈간 연계 기능 식별

- 기능을 시나리오 형태로 구체화 하여 식별
- 인터페이스 기능 식별시 사용

## 모듈 간 인터페이스 기능 식별

- 인터페이스 동작에 필요한 기능 식별
- 인터페이스 기능 구현 정의시 사용

## 모듈간 인터페이스 데이터 표준 확인

- 데이터 형식을 표존화 하는 것

### 표준 확인

1. `데이터 인터페이스` 확인
   - 입/출력값의 의미 및 데ㅔ이터 특성을 구체적으로 확인
2. `인터페이스 기능` 확인
   - 기능 구현을 위해 필요한 데이터 항목 확인
3. `인터페이스 데이터 표준` 확인
   - 확인된 데이터 항목을 `검토 후 최종 데이터 표준 확인`

# 인터페이스 기능 구현 정의

## 절차

1. 컴포넌트 명세서 확인
2. 인터페이스 명세서 확인
3. 일관된 인터페이스 기능 구현 정의
4. 정의된 인터페이스 기능 구현 정형화

## 모듈 세부 설계서

- 구성요소 및 세부 동작등을 정의

### 종류

1. 컴포넌트 명세서
   - `개요` 및 `클래스 내부 동작 ,인터페이스`를 통해 외부통신을 명세를 정의
2. 인터페이스 명세서
   - `인터페이스 클래스`의 `세부 조건` 및 `기능`을 정의

# 인터페이스 구현

- 송/수신 시스템 간의 데이터 교환 및 처리를 실현해주는 작엄
- 대표적인 구현법
  1. 데이터 통신을 이용한 인터페이스 구현
     - APP영영역에서 `데이터 포멧을 인터페이스` 대상으로 전송시 수신측에서 `Parsing` 하여 해석
     - JSON 및 XML형식으로 주로 구현
       - Json
         1. 생성할 데이터를 시스템 환경에 맞게 선택
         2. Json을 이용해 데이터 인터페이스 객체 생성
         3. AJAX기술 등을 이용해 송신
         4. 수신측에서 파싱하여 객체 처리
         5. 수신측에서 송신측으로 처리 결과 보냄
  2. 인터페이스 엔티티를 이용한 인터페이스 구현
     - 시스템 사이에 별도의 인터페이스 엔티티를 두서 상호 연계하는 것
     - 주로 `인터페이스 테이블`을 엔티티로 활용
     - 구현 순서
       1. 이벤트 발생시 테이블에 데이터 기록(Write)
       2. 송신측 : 테이블에서 정해진 주기에 따라 데이터를 전송
       3. 수신측 : 테이블에 데이터 입력시 주기에 따라 데이터 읽기(Read)
       4. 수신측 : 테이블에서 데이터를 읽은 후 `사전 정의`된 `트랜잭션 수행`

## Json ( JavaScript Ovject Notation)

- 객체를 속성-값의 쌍(Attribute-Value Pairs) 형태로 표현하는 개방형 표준 포멧
- 비동기 처리에 사용되는 AJAX에서 XML을 대체하여 사용

## AJAX(Asynchronous JavaScript And XML)

- 클라이언트와 서버 간에 XM 데이터를 주고 받는 비동기 통신 기술
- 전체 페이지가 아닌 부분 영역만 업데이트 할 수 있다.

# 인터페이스 예외처리

## 예외처리 방법

1. 데이터 통신을 이용한 방법
   - `송/수신시` 발생할 수 있는 `예외 케이스`를 정의 후 에외마다 `처리 방법 기술`
   - `JSON,XML`등 인터페이스 객체를 이용해 동작 실패를 대비한다
2. 인터페이스 엔티티를 이용한 인터페이스 예외 처리
   - 동작 실패시를 대비하여 실패 `성황 및 원인`을 `기록하고 조치`를 취할 수 있도록 `사용자에게 알려`주는 방식

# 인터페이스 보안

- 인터페이스의 보안 취약점을 분석 후 적절한 보안기능 적용시키는 것

## 보안 기능 적용

1. 네트워크 영역
   - `송수신`간 `Sniffing` 등을 방지하기위해 트래픽에 대한 `암호화`를 한다.
   - 방식
     1. IPSec
        - IP 패킷 단위 데이터 변조 방지 및 은닉 기능을 제공하는 프로토콜
     2. SSL
        - `TCP/IP 계층` 및 `어플리케이션 계층 사이`에서 `인증,암호화,무결성` 보장하는 프로토콜
     3. S-HTTP
        - 서버-클라이언트 사이의 모든 메시지를 암호화 하는 프로토콜
2. 어플리케이션 영역
   - `소프트웨어 개발 보안 가이드`를 참조하여 취약점을 보완하여 기능 적용
3. 데이터베이스 영역
   - `접근권한`, `프로시저`,`트리거` 등 동작 객체의 보안 취약점에 보안 기능 적용
   - `민감 데이터`는 `암호화 및 익명화`를 하여 데이터 자체 보안도 고려

### 무결성 검사 도구

- 무결성 확인 후 관리자에게 알려주는 도구
- 종류
  - Tripwire
  - AIDE
  - Sambain
  - Claymore
  - Slipwire

# 인터페이스 구현 검증

- 정상 작동하는 지 확인하는 작업
- 구현 검증도구 및 감시도구를 이용하여 확인

## 검증도구

- 단위 기능 및 시나리오 기반으로 통합 테스트
- 통합 테스트를 위한 테스트 자동화 도구
  1. xUnit
     - `Java`,`C++`,`.Net` 등 다양한 언어를 지원하는 단위 테스트 프레임워크
  2. STAF
     - 서비스 호출 및 컴포넌트 재사용 등 다양한 환경 지원
     - `크로스 플랫폼` 및 `분산 SW` 에서 테스트 `환경 조성` 지원
     - 분산 SW : 데몬이 프로그램 테스트에 응답을 대신하고, 완료시 통합하고 자동화 하여 프로그램 완성
  3. FitNesse
     - 웹 기반 테스트 프레임워크
  4. NTAF
     - FitNesse의 장점인 협업기능 + STAF의 장점인 재사용성을 통합한 NHN(Nave)의의 테스트 자동화 프레임워크
  5. Selenium
     - `브라우저 및 개발 언어`를 지원하는 APP 테스트 프레임워크
  6. watir
     - `Ruby`를 사용하는 어플리케이션 테스트 프레임워크

## 구현 감시 도구

- APM(Application Performance Management) 사용하여 동작 상태 모니터링 하는 도구
- DB와 APP의 종합적인 정보를 조회하고 분석할 수 있다.
- APM(Application Performance Management)
  - 어플리케이션의 성능 관리를 위해 다양한 모니터링 기능을 제공하는 도구
  - 유형
        1. `리소스 방식`
            - Nagios, Zabbix, Cacti...
        2. `End to End 방식`
            VisualVM, 제니퍼, 스카우터 ...
- 대표 APM
  1. 스타우터(Scouter)
     - `APP` 및 `OS` 자원에 대한 모니터링 가능한 `OpenSource APM SW`
  2. 제니퍼(Jennifer)
     - `APP` 개발부터 테스트,오픈,운영,안정화 까지 `전 단계`에 걸쳐 `성능 모니터`링 가능
